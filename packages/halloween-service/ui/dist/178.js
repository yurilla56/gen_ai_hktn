"use strict";(self.webpackChunkhalloween_app=self.webpackChunkhalloween_app||[]).push([[178],{3178:(j,m,o)=>{o.r(m),o.d(m,{CostumesModule:()=>O});var a=o(177),r=o(5574),t=o(7705),p=o(4183),f=o(6011),v=o(8359),d=o(4412),u=o(2920),C=o(6038),g=o(3734),h=o(203);const x=["backgroundAudio"];function y(s,l){if(1&s){const n=t.RV6();t.j41(0,"div",8),t.nrm(1,"div",9),t.j41(2,"img",10),t.bIt("click",function(){const c=t.eBV(n).$implicit,A=t.XpG(2);return t.Njj(A.onCostumeClick(c.name))}),t.nI1(3,"titlecase"),t.k0s()()}if(2&s){const n=l.$implicit,e=t.XpG(2);t.R7$(2),t.FS9("matTooltip",t.bMT(3,4,n.name)),t.Y8G("id",n.name)("src",e.baseUrl+n.image,t.B4B)("alt",n.name)}}const b=function(s){return{muted:s}};function M(s,l){if(1&s){const n=t.RV6();t.qex(0),t.nrm(1,"audio",11,12),t.j41(3,"div",13),t.bIt("click",function(){t.eBV(n);const i=t.XpG(2);return t.Njj(i.toggleMute())}),t.j41(4,"mat-icon"),t.EFF(5),t.k0s()(),t.bVm()}if(2&s){const n=t.XpG(2);t.R7$(1),t.Y8G("muted",n.isMuted),t.R7$(2),t.Y8G("ngClass",t.eq3(3,b,n.isMuted)),t.R7$(2),t.JRh(n.isMuted?"volume_off":"volume_up")}}function k(s,l){if(1&s){const n=t.RV6();t.qex(0),t.j41(1,"div",1),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.goBack())}),t.nrm(2,"img",2),t.k0s(),t.j41(3,"div",3)(4,"div",4),t.nrm(5,"img",5),t.k0s(),t.j41(6,"div",6),t.DNE(7,y,4,6,"div",7),t.k0s()(),t.DNE(8,M,6,5,"ng-container",0),t.nI1(9,"async"),t.bVm()}if(2&s){const n=l.ngIf,e=t.XpG();t.R7$(7),t.Y8G("ngForOf",n)("ngForTrackBy",e.trackByCostume),t.R7$(1),t.Y8G("ngIf",t.bMT(9,3,e.audioPath$))}}const $=[{path:"",component:(()=>{class s{constructor(){this.nodeApiService=(0,t.WQX)(p.c),this.storageService=(0,t.WQX)(f.n),this.route=(0,t.WQX)(r.nX),this.router=(0,t.WQX)(r.Ix),this.cdr=(0,t.WQX)(t.gRc),this.subscription=new v.yU,this.costumes$$=new d.t(null),this.costumes$=this.costumes$$.asObservable(),this.audioPath$$=new d.t(null),this.audioPath$=this.audioPath$$.asObservable(),this.baseUrl="../../assets/photo/",this.isMuted=!1}ngOnInit(){const n=this.route.snapshot.queryParams.name;n&&this.nodeApiService.getCostumes(n),this.subscription.add(this.storageService.costumes$.subscribe(e=>{this.costumes$$.next(e)})),this.subscription.add(this.storageService.costumesAudio$.subscribe(e=>{this.audioPath$$.next(e)}))}ngAfterViewInit(){this.subscription.add(this.audioPath$.subscribe(n=>{this.backgroundAudio&&this.backgroundAudio.nativeElement&&(this.backgroundAudio.nativeElement.src=`../../assets/${n}`,this.backgroundAudio.nativeElement.volume=this.isMuted?0:.05,n&&this.backgroundAudio.nativeElement.play().catch(e=>{console.error("Error playing audio:",e)}),this.cdr.detectChanges())}))}goBack(){this.router.navigate(["/home"])}onCostumeClick(n){const e=document.getElementById(n);if(e){const i=e.parentElement?.querySelector(".splash-effect");i?.classList.add("active");const c=this.route.snapshot.queryParams.name;setTimeout(()=>{i?.classList.remove("active"),this.router.navigate(["/dress-checker"],{queryParams:{animal:c,costume:n}})},1e3)}}trackByCostume(n,e){return e.name}toggleMute(){this.isMuted=!this.isMuted,this.backgroundAudio&&this.backgroundAudio.nativeElement&&(this.backgroundAudio.nativeElement.volume=this.isMuted?0:.05,this.cdr.detectChanges())}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275cmp=t.VBU({type:s,selectors:[["app-costumes"]],viewQuery:function(e,i){if(1&e&&t.GBs(x,5),2&e){let c;t.mGM(c=t.lsd())&&(i.backgroundAudio=c.first)}},decls:2,vars:3,consts:[[4,"ngIf"],[1,"arrow-back",3,"click"],["src","../../assets/arrow-back.svg","alt","Back"],["fxLayout","column","fxFlex","100%","fxLayoutAlign","center center","fxLayoutGap","20px"],["fxFlex","none",1,"icon"],["src","../../assets/icon.svg","alt","Icon"],["fxLayout","row wrap","fxLayoutAlign","center center","fxFlex","80","fxLayoutGap","20px",1,"wrapper"],["class","costume-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"costume-card"],[1,"splash-effect"],[3,"id","src","alt","matTooltip","click"],["autoplay","","loop","",3,"muted"],["backgroundAudio",""],[1,"sound-icon",3,"ngClass","click"]],template:function(e,i){1&e&&(t.DNE(0,k,10,5,"ng-container",0),t.nI1(1,"async")),2&e&&t.Y8G("ngIf",t.bMT(1,1,i.costumes$))},dependencies:[a.YU,a.Sq,a.bT,u.DJ,u.BO,u.sA,u.UI,C.PW,g.oV,h.An,a.Jj,a.PV],styles:[".icon[_ngcontent-%COMP%]{margin-top:3rem}.icon[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{transition:transform .2s;animation:_ngcontent-%COMP%_bounce .6s ease-in-out infinite}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}.costume-card[_ngcontent-%COMP%]{position:relative;display:inline-block;overflow:visible;max-width:173px;max-height:173px;justify-content:center;align-items:center;box-sizing:border-box;border:7px solid transparent;border-radius:16px}.costume-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{image-rendering:auto;z-index:1;width:100%;height:auto;transition:transform .3s ease,opacity .3s ease}.costume-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1);opacity:.9}.splash-effect[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:150px;height:150px;background:rgba(0,150,255,.5);transform:translate(-50%,-50%) scale(0);z-index:0;opacity:0}@keyframes _ngcontent-%COMP%_scaleWave{0%{transform:translate(-50%,-50%) scale(0);opacity:1}50%{transform:translate(-50%,-50%) scale(1.8);opacity:0}to{transform:translate(-50%,-50%) scale(0);opacity:0}}.splash-effect.active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleWave 1.5s infinite}.hidden[_ngcontent-%COMP%]{display:none}"]})}}return s})()}];let _=(()=>{class s{static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[r.iI.forChild($),r.iI]})}}return s})();var P=o(6924);let O=(()=>{class s{static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275mod=t.$C({type:s})}static{this.\u0275inj=t.G2t({imports:[a.MD,P.YF,g.uc,h.m_,_]})}}return s})()}}]);